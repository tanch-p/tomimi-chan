import{s as lt,c as st,u as at,b as ot,S as nt,a as rt,E as it,p as ft}from"../chunks/StageHeader.91015f8c.js";import{S as ve,i as be,s as Ae,k as A,a as L,q as Z,l as F,m as y,h as p,c as S,r as J,K as _e,n as i,b as W,H as c,O as he,u as oe,I as ke,J as ue,M as Te,y as x,z as ee,L as ce,A as te,g as O,v as Ze,f as Je,d as U,B as le,R as ut,w as ct,V as mt,W as dt,X as gt,Q as pt,e as Ge,G as _t}from"../chunks/index.fef03e7a.js";import{k as Fe,w as de}from"../chunks/singletons.1f0531de.js";import{D as ht}from"../chunks/DifficultySelect.e67278ae.js";import{S as vt}from"../chunks/SamiNavTemp.85b5ade3.js";import{F as bt,E as At}from"../chunks/FooterBar.e3cba1ee.js";import{t as V}from"../chunks/translations.484a5201.js";import{c as Ft}from"../chunks/favicon.fcbdcad2.js";const Et=async({params:t})=>{const e=t.lang,{mapConfig:s,enemies:l}=await lt(t.name,"rogue_sami");return{mapConfig:s,enemies:l,language:e}},el=Object.freeze(Object.defineProperty({__proto__:null,load:Et},Symbol.toStringTag,{value:"Module"})),Ne=[{difficulty:0,ruleDesc:"初始目标生命上限较高，坍缩范式加深较为缓慢",addDesc:"深入冰原将面临更严峻的考验",effects:[],floorBuff:0},{difficulty:1,ruleDesc:"坍缩值12以上时坍缩范式更容易加深",addDesc:"深入冰原将面临更严峻的考验",effects:[],floorBuff:0},{difficulty:2,ruleDesc:"初始目标生命上限-4",addDesc:"深入冰原将面临更严峻的考验",effects:[],floorBuff:0},{difficulty:3,ruleDesc:"非完美作战额外增加1点坍缩值",addDesc:"深入冰原将面临更严峻的考验",effects:[],floorBuff:0},{difficulty:4,ruleDesc:"精英敌人的攻击力+10%",addDesc:"深入冰原将面临更严峻的考验",effects:[{targets:["ELITE"],mods:{atk:1.1}}],floorBuff:0},{difficulty:5,ruleDesc:"所有敌人的攻击力+5%，生命值+5%",addDesc:"每进入新的一层，所有敌人攻击力和生命值额外+1%",effects:[{targets:["ALL"],mods:{atk:1.05,hp:1.05}}],floorBuff:.01},{difficulty:6,ruleDesc:"招募4星及以上干员时希望消耗+1",addDesc:"每进入新的一层，所有敌人攻击力和生命值额外+2%",effects:[],floorBuff:.02},{difficulty:7,ruleDesc:"所有敌人的防御力+10%",addDesc:"每进入新的一层，所有敌人攻击力和生命值额外+3%",effects:[{targets:["ALL"],mods:{def:1.1}}],floorBuff:.03},{difficulty:8,ruleDesc:"所有敌人受到的物理和法术伤害-5%",addDesc:"每进入新的一层，所有敌人攻击力和生命值额外+4%",effects:[{targets:["ALL"],mods:{dmg_reduction:5}}],floorBuff:.04},{difficulty:9,ruleDesc:"可同时部署人数-1",addDesc:"每进入新的一层，所有敌人攻击力和生命值额外+5%",effects:[],floorBuff:.05},{difficulty:10,ruleDesc:"所有敌人的攻击力+10%",addDesc:"每进入新的一层，所有敌人攻击力和生命值额外+6%",effects:[{targets:["ALL"],mods:{atk:1.1}}],floorBuff:.06},{difficulty:11,ruleDesc:"领袖敌人受到的物理和法术伤害-5%",addDesc:"每进入新的一层，所有敌人攻击力和生命值额外+8%",effects:[{targets:["SAMI_BOSS"],mods:{dmg_reduction:5}}],floorBuff:.08},{difficulty:12,ruleDesc:"进入第一、三、五层时抗干扰指数-1",addDesc:"每进入新的一层，所有敌人攻击力和生命值额外+10%",effects:[],floorBuff:.1},{difficulty:13,ruleDesc:"精英和领袖敌人受到的物理和法术伤害-5%",addDesc:"每进入新的一层，所有敌人攻击力和生命值额外+12%",effects:[{targets:["ELITE","SAMI_BOSS"],mods:{dmg_reduction:5}}],floorBuff:.12},{difficulty:14,ruleDesc:"所有敌人的防御力+5%，生命值+5%",addDesc:"每进入新的一层，所有敌人攻击力和生命值额外+14%",effects:[{targets:["ALL"],mods:{hp:1.05,def:1.05}}],floorBuff:.14},{difficulty:15,ruleDesc:"所有敌人的攻击力、防御力、生命值+10%，进入新层增长的坍缩值递增1点",addDesc:"每进入新的一层，所有敌人攻击力和生命值额外+16%",effects:[{targets:["ALL"],mods:{hp:1.1,atk:1.1,def:1.1}}],floorBuff:.16}];let Xe=0;st&&(Xe=parseInt(localStorage.getItem("sami_difficulty")??"0"));const qe=de([]),we=de(Xe),Dt=Fe(we,t=>Ne.map(e=>{if(e.difficulty<=t&&e.effects.length>0)return e.effects}).filter(Boolean)),me=de(1),$t=Fe([me,we],([t,e])=>[{targets:["ALL"],mods:{hp:(1+Ne[e].floorBuff)**t,atk:(1+Ne[e].floorBuff)**t}}]),xe=de(null),fe=de([]),pe=de(null),et=Fe([qe,$t,xe,fe,pe],([t,e,s,l,a])=>at(t.map(o=>o.effects),[e],[s],l.map(o=>o.effects),[a])),Ct=Fe(et,t=>t.statMods),kt=Fe(et,t=>t.specialMods);function yt(t){let e,s,l,a,o,r,u,d,n,m,h,_=t[0][`tooltip_${t[1]}`]+"",g,v,Y,K;return{c(){e=A("button"),s=A("span"),l=A("img"),o=L(),r=A("div"),u=A("p"),d=Z(t[3]),m=L(),h=A("p"),g=Z(_),this.h()},l(k){e=F(k,"BUTTON",{class:!0});var $=y(e);s=F($,"SPAN",{class:!0});var C=y(s);l=F(C,"IMG",{src:!0,alt:!0,loading:!0,decoding:!0,class:!0}),C.forEach(p),o=S($),r=F($,"DIV",{class:!0});var I=y(r);u=F(I,"P",{class:!0});var j=y(u);d=J(j,t[3]),j.forEach(p),m=S(I),h=F(I,"P",{});var b=y(h);g=J(b,_),b.forEach(p),I.forEach(p),$.forEach(p),this.h()},h(){_e(l.src,a=t[0].src)||i(l,"src",a),i(l,"alt",t[3]),i(l,"loading","lazy"),i(l,"decoding","async"),i(l,"class",""),i(s,"class","flex items-center justify-center"),i(u,"class",n=`${t[2]?"text-purple-400 font-semibold":""}`),i(r,"class","flex flex-col"),i(e,"class",v=`grid grid-cols-[75px_auto] gap-x-2 text-start ${t[2]?"bg-neutral-700":"hover:bg-neutral-700"}`)},m(k,$){W(k,e,$),c(e,s),c(s,l),c(e,o),c(e,r),c(r,u),c(u,d),c(r,m),c(r,h),c(h,g),Y||(K=he(e,"click",t[4]),Y=!0)},p(k,[$]){$&1&&!_e(l.src,a=k[0].src)&&i(l,"src",a),$&8&&i(l,"alt",k[3]),$&8&&oe(d,k[3]),$&4&&n!==(n=`${k[2]?"text-purple-400 font-semibold":""}`)&&i(u,"class",n),$&3&&_!==(_=k[0][`tooltip_${k[1]}`]+"")&&oe(g,_),$&4&&v!==(v=`grid grid-cols-[75px_auto] gap-x-2 text-start ${k[2]?"bg-neutral-700":"hover:bg-neutral-700"}`)&&i(e,"class",v)},i:ke,o:ke,d(k){k&&p(e),Y=!1,K()}}}function Mt(t,e,s){let l,a;ue(t,fe,n=>s(5,a=n));let{effect:o,language:r}=e,u=!1;fe.subscribe(n=>{s(2,u=!!n.find(m=>m.id===o.id))});function d(){a.find(n=>n.id===o.id)?fe.update(n=>n=n.filter(m=>m.id!==o.id)):fe.update(()=>[o])}return t.$$set=n=>{"effect"in n&&s(0,o=n.effect),"language"in n&&s(1,r=n.language)},t.$$.update=()=>{t.$$.dirty&3&&s(3,l=o[`outerName_${r}`]||o.outerName_zh)},[o,r,u,l,d]}class Nt extends ve{constructor(e){super(),be(this,e,Mt,yt,Ae,{effect:0,language:1})}}function Pe(t,e,s){const l=t.slice();return l[4]=e[s],l[6]=s,l}function Ye(t){let e,s=t[6]+1+"",l,a,o,r,u;function d(){return t[3](t[6])}return{c(){e=A("button"),l=Z(s),a=L(),this.h()},l(n){e=F(n,"BUTTON",{class:!0,type:!0});var m=y(e);l=J(m,s),a=S(m),m.forEach(p),this.h()},h(){i(e,"class",o=`py-2 px-2 ${t[1]===t[6]+1?"bg-gray-500":""}`),i(e,"type","button")},m(n,m){W(n,e,m),c(e,l),c(e,a),r||(u=he(e,"click",d),r=!0)},p(n,m){t=n,m&2&&o!==(o=`py-2 px-2 ${t[1]===t[6]+1?"bg-gray-500":""}`)&&i(e,"class",o)},d(n){n&&p(e),r=!1,u()}}}function Bt(t){let e,s,l,a,o,r=V[t[0]].sami_sp_floor_tip+"",u,d=t[2],n=[];for(let m=0;m<d.length;m+=1)n[m]=Ye(Pe(t,d,m));return{c(){e=A("div"),s=A("div");for(let m=0;m<n.length;m+=1)n[m].c();l=L(),a=A("p"),o=Z("※"),u=Z(r),this.h()},l(m){e=F(m,"DIV",{class:!0});var h=y(e);s=F(h,"DIV",{class:!0});var _=y(s);for(let v=0;v<n.length;v+=1)n[v].l(_);_.forEach(p),l=S(h),a=F(h,"P",{class:!0});var g=y(a);o=J(g,"※"),u=J(g,r),g.forEach(p),h.forEach(p),this.h()},h(){i(s,"class","grid grid-flow-col auto-cols-fr"),i(a,"class","text-center text-sm mt-4"),i(e,"class","w-[70%] mx-auto py-3 mt-4")},m(m,h){W(m,e,h),c(e,s);for(let _=0;_<n.length;_+=1)n[_]&&n[_].m(s,null);c(e,l),c(e,a),c(a,o),c(a,u)},p(m,[h]){if(h&2){d=m[2];let _;for(_=0;_<d.length;_+=1){const g=Pe(m,d,_);n[_]?n[_].p(g,h):(n[_]=Ye(g),n[_].c(),n[_].m(s,null))}for(;_<n.length;_+=1)n[_].d(1);n.length=d.length}h&1&&r!==(r=V[m[0]].sami_sp_floor_tip+"")&&oe(u,r)},i:ke,o:ke,d(m){m&&p(e),Te(n,m)}}}function Tt(t,e,s){let l;ue(t,me,u=>s(1,l=u));let{language:a}=e,o=new Array(7);const r=u=>me.set(u+1);return t.$$set=u=>{"language"in u&&s(0,a=u.language)},[a,l,o,r]}class wt extends ve{constructor(e){super(),be(this,e,Tt,Bt,Ae,{language:0})}}const It="data:image/webp;base64,UklGRlwFAABXRUJQVlA4WAoAAAAQAAAANgAAPAAAQUxQSAcFAAABT8SmkSRH37M2egDPH+jZ7AFERD78QlziNIaYhtgunOGYCzFdM9zKBiKrPV//YNG2tmOSpPN+32+HkeFIm2XbruoetW2Mbdz190dGRGZkzgVE9D85KdHCKQi1AachLA0QTlQ4TA40J+EocYWprV0UMwtLiQwDhNwNGenzHicgDAs0ighCpY9gkl2E2YVyg6pByGslxLCVMiHMJEPKFQSjm5mFsTZtJpVwfGFAoYhg3G41xgzqjAvhksUs5TAoMQqWCxpZiBkT3HMtZrJrumyRtxYzTLHDmGDvtxBmUQ3KDvmwk2AaZYRccDbnEGYr6qKLsReaDm5XGHNW6xyZlTnCj1MX48/XMEkdYWQvlxCO0mt9hTDFiQMfE/UKmLpHLlhLZYRjdNcchEkVhT4ma3jYNQ6tQQnhGIrieoFpfugLWUlIYkZ2L0U42lII/kKTKU4Qi0oNJrXJrXaKcIz+MCJXnb7DuBjlYFyFHQnGbiYcs7o4SMiLvZBxtbi7sLK7bCtPsEoRx1blQd/HBPVEM5rfG5iu6ZudbRcnDpgUcjGMCcs9jE4Hcz5WEnm4F5bTYrPRbJSTlcslfIXRwkiR7DNN9lY0RrJW2XZ8+vfnq/VAWUYFtdbg/gJGe7EmV5TPBk65ETG5uhci6KjocunBMBSMViiD8Rv3LrmWJxwu3hrUe2YYMa4VjQspSjDVx7sJtiNKUGLQCn/n6Ry5trI7t6pJyWZCiH2H5GaXUrzzrB/pkoOlPSH0Y42HDm/vN5eL/cdLWCZCDGNC634/UWb++vO1J5ejZ+yfaf6ifetO7WfW/Ns7vzz4+Kd3f3vjwoONGLd8Z59Jh1/9r3Lu059/+K/fffLt3/768cs3f/zXN1c//fM//vTtd//+z1fvvPfDP3/92ed///HdD96y/v5fhHGL178vtO7d+stHz589+vK7V/29b756yernX//45us//OaLvTufvv/0xjsvv//4yi6ff48wafm9Env3uoXmT85xhbWis2V1DFu6tcEjduvuu3tp7+C65yykNpNC1hQq+w3LKw8fnxNbWTaCaLTkCI0nu42YeGuIKTWYqpODJ6u1RiW0ypcfllAorQRlbCXa7N7t20Gh0pi7dlYYlyDrrO5vb967VYoCUVYY0HuxbjlMeG7xzhUHZYny4sKFZ9vtamhjrL2dTqai/UUEscJS5LiUrl2pJkWTJXFWLKzdXcP3hEOhem5QXWkwJgza5Mlcp+p7RgvB+sFSsZSXi7WNMz0sNy16jKfrjIlRQu7MbSzWXItxZ7h5caGYtrZ3FxNRGOWVay65GIwSJvzKyk7HV0xI4Ki4UF/cHFZDdOAxEr9R8wVRTKjmwsZmiWkSuYQRRlzbci2sgs9Y2GqmTAiN9a6LEcNk4iGRxujA83WocGoe42lrPmPC0YgSpqQBxi+Sq9BKcAKM23Q5FFRcUUxIzrRCjFG1IrmEdqqJPIzf8TgUjDAhTHcT8lI5YRQ7gY8UFCbrKsaEWdxOwWMUuVaK8QsIxTqzWxWrohnFviqTF0MUjTozpwXqGiOkISXBuFVN3q4zo9XBKwtGSEPSCKFSINc1ZhLaCfWYXCgkhAUEM7CYVUg6ilZELsQBYhglPQRhtmFK0NIc1U8RZhGKXUx1DuGIaIVZtY2ZqyNMFwYdhFm9Zc1RQlRlViHdRXGkcAKtPsIpyFnFqThnOQ1hcY7TUJwPOZ1M838MAAAAVlA4IC4AAACQAwCdASo3AD0APtFor1KoJiQioggBABoJaQAAEDdTUAV4hbkAAP7ywgAAAAAA",Be=[{id:"rogue_3_chaos_3",outerName_zh:"非线性移动",innerName_zh:"非线性移动",outerName_ja:"非直線移動",innerName_ja:"非直線移動",outerName_en:"Non-linear Movement",innerName_en:"Non-linear Movement",src:null,effects:[{targets:["collapsal"],mods:{hp:1.15,ms:1.15}}],tooltip_zh:"所有【坍缩体】生命值+15%，移动速度+15",tooltip_ja:"全ての敵【崩壊体】の最大HP+15%、移動速度+15%",tooltip_en:"All [Collapsals] gain Max HP +15% and Movement Speed +15%"},{id:"rogue_3_chaos_3_a",outerName_zh:"非线性行动",innerName_zh:"非线性行动",outerName_ja:"非直線行動",innerName_ja:"非直線行動",outerName_en:"Non-linear Action",innerName_en:"Non-linear Action",src:null,effects:[{targets:["collapsal"],mods:{hp:1.2,ms:1.2,fixed_aspd:20}}],tooltip_zh:"所有【坍缩体】生命值+20%，移动速度+20%，攻击速度+20",tooltip_ja:"全ての敵【崩壊体】の最大HP+20%、移動速度+20%、攻撃速度+20%",tooltip_en:"All [Collapsals] gain Max HP +20%, Movement Speed +20%, and ASPD +20"}];const{Boolean:Lt}=ut;function Oe(t,e,s){const l=t.slice();return l[6]=e[s],l}function je(t){let e;return{c(){e=A("div"),this.h()},l(s){e=F(s,"DIV",{class:!0}),y(e).forEach(p),this.h()},h(){i(e,"class","absolute w-[55px] h-[55px] portal-active svelte-1slmxoh")},m(s,l){W(s,e,l)},d(s){s&&p(e)}}}function Qe(t){let e,s;return e=new Nt({props:{effect:t[6],language:t[1]}}),{c(){x(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,a){te(e,l,a),s=!0},p(l,a){const o={};a&2&&(o.language=l[1]),e.$set(o)},i(l){s||(O(e.$$.fragment,l),s=!0)},o(l){U(e.$$.fragment,l),s=!1},d(l){le(e,l)}}}function St(t){let e,s,l,a,o,r,u,d,n=V[t[1]].sami_portal+"",m,h,_,g,v,Y,K,k,$,C,I,j=V[t[1]].sami_portal_buff+"",b,M,Q,G,P=t[3][t[1]]+"",B,f,E,H,z=V[t[1]].sami_chaos+"",se,ne,ae,re,X,ye,Ie;s=new wt({props:{language:t[1]}});let R=t[2]&&je(),ie=Be,T=[];for(let D=0;D<ie.length;D+=1)T[D]=Qe(Oe(t,ie,D));const tt=D=>U(T[D],1,1,()=>{T[D]=null});return{c(){e=A("div"),x(s.$$.fragment),l=L(),a=A("div"),o=A("hr"),r=L(),u=A("div"),d=A("p"),m=Z(n),h=L(),_=A("button"),g=A("div"),v=A("img"),k=L(),R&&R.c(),$=L(),C=A("div"),I=A("p"),b=Z(j),Q=L(),G=A("p"),B=Z(P),E=L(),H=A("p"),se=Z(z),ne=L(),ae=A("div");for(let D=0;D<T.length;D+=1)T[D].c();this.h()},l(D){e=F(D,"DIV",{class:!0});var N=y(e);ee(s.$$.fragment,N),l=S(N),a=F(N,"DIV",{class:!0});var q=y(a);o=F(q,"HR",{class:!0}),r=S(q),u=F(q,"DIV",{class:!0});var w=y(u);d=F(w,"P",{class:!0});var ge=y(d);m=J(ge,n),ge.forEach(p),h=S(w),_=F(w,"BUTTON",{class:!0});var Ee=y(_);g=F(Ee,"DIV",{class:!0});var De=y(g);v=F(De,"IMG",{src:!0,alt:!0,loading:!0,decoding:!0,class:!0}),k=S(De),R&&R.l(De),De.forEach(p),$=S(Ee),C=F(Ee,"DIV",{class:!0});var $e=y(C);I=F($e,"P",{class:!0});var Le=y(I);b=J(Le,j),Le.forEach(p),Q=S($e),G=F($e,"P",{});var Se=y(G);B=J(Se,P),Se.forEach(p),$e.forEach(p),Ee.forEach(p),E=S(w),H=F(w,"P",{class:!0});var ze=y(H);se=J(ze,z),ze.forEach(p),ne=S(w),ae=F(w,"DIV",{class:!0});var Ve=y(ae);for(let Me=0;Me<T.length;Me+=1)T[Me].l(Ve);Ve.forEach(p),w.forEach(p),q.forEach(p),N.forEach(p),this.h()},h(){i(o,"class","border-neutral-600"),i(d,"class","mt-4 font-medium text-lg text-[#FF99CA] text-center"),_e(v.src,Y=ot)||i(v,"src",Y),i(v,"alt",K=V[t[1]].sami_portal),i(v,"loading","lazy"),i(v,"decoding","async"),i(v,"class","z-[1]"),i(g,"class","relative flex items-center justify-center"),i(I,"class",M=ce(`${t[2]?"text-[#FF99CA] font-semibold":""}`)+" svelte-1slmxoh"),i(C,"class","flex flex-col"),i(_,"class",f=ce(`grid grid-cols-[75px_auto] gap-x-2 mt-2 hover:cursor-pointer text-start ${t[2]?"bg-neutral-700":"hover:bg-neutral-700"}`)+" svelte-1slmxoh"),i(H,"class","mt-4 font-medium text-lg text-purple-400 text-center"),i(ae,"class","flex flex-col gap-y-4 mt-2"),i(u,"class","px-2 md:px-0"),i(a,"class","mx-auto mt-3 md:px-8"),i(e,"class",re=ce(`absolute left-[50%] -translate-x-[50%] mt-2 w-screen md:w-[700px] pb-8 rounded-md shadow-lg select-none bg-[#1c1c1c] transition-[opacity_transform] ease-in duration-150 ${t[0]?"opacity-90 translate-y-0":"invisible opacity-0 -translate-y-10"}`)+" svelte-1slmxoh")},m(D,N){W(D,e,N),te(s,e,null),c(e,l),c(e,a),c(a,o),c(a,r),c(a,u),c(u,d),c(d,m),c(u,h),c(u,_),c(_,g),c(g,v),c(g,k),R&&R.m(g,null),c(_,$),c(_,C),c(C,I),c(I,b),c(C,Q),c(C,G),c(G,B),c(u,E),c(u,H),c(H,se),c(u,ne),c(u,ae);for(let q=0;q<T.length;q+=1)T[q]&&T[q].m(ae,null);X=!0,ye||(Ie=he(_,"click",t[4]),ye=!0)},p(D,[N]){const q={};if(N&2&&(q.language=D[1]),s.$set(q),(!X||N&2)&&n!==(n=V[D[1]].sami_portal+"")&&oe(m,n),(!X||N&2&&K!==(K=V[D[1]].sami_portal))&&i(v,"alt",K),D[2]?R||(R=je(),R.c(),R.m(g,null)):R&&(R.d(1),R=null),(!X||N&2)&&j!==(j=V[D[1]].sami_portal_buff+"")&&oe(b,j),(!X||N&4&&M!==(M=ce(`${D[2]?"text-[#FF99CA] font-semibold":""}`)+" svelte-1slmxoh"))&&i(I,"class",M),(!X||N&2)&&P!==(P=D[3][D[1]]+"")&&oe(B,P),(!X||N&4&&f!==(f=ce(`grid grid-cols-[75px_auto] gap-x-2 mt-2 hover:cursor-pointer text-start ${D[2]?"bg-neutral-700":"hover:bg-neutral-700"}`)+" svelte-1slmxoh"))&&i(_,"class",f),(!X||N&2)&&z!==(z=V[D[1]].sami_chaos+"")&&oe(se,z),N&2){ie=Be;let w;for(w=0;w<ie.length;w+=1){const ge=Oe(D,ie,w);T[w]?(T[w].p(ge,N),O(T[w],1)):(T[w]=Qe(ge),T[w].c(),O(T[w],1),T[w].m(ae,null))}for(Ze(),w=ie.length;w<T.length;w+=1)tt(w);Je()}(!X||N&1&&re!==(re=ce(`absolute left-[50%] -translate-x-[50%] mt-2 w-screen md:w-[700px] pb-8 rounded-md shadow-lg select-none bg-[#1c1c1c] transition-[opacity_transform] ease-in duration-150 ${D[0]?"opacity-90 translate-y-0":"invisible opacity-0 -translate-y-10"}`)+" svelte-1slmxoh"))&&i(e,"class",re)},i(D){if(!X){O(s.$$.fragment,D);for(let N=0;N<ie.length;N+=1)O(T[N]);X=!0}},o(D){U(s.$$.fragment,D),T=T.filter(Lt);for(let N=0;N<T.length;N+=1)U(T[N]);X=!1},d(D){D&&p(e),le(s),R&&R.d(),Te(T,D),ye=!1,Ie()}}}function zt(t,e,s){let{optionsOpen:l,language:a}=e;const o={en:"All enemies have Movement Speed -50%, but gain DEF +800, RES +30 and Weight level +1.",ja:"敵全員の移動速度50%減少、重量ランク1増加、防御力800増加、術耐性30増加",zh:"所有敌人移动速度下降（-50%），但重量（+1）、防御力（+800）、法术抗性提升（+30）"},r=[{targets:["ALL"],mods:{fixed_weight:1,ms:.5,fixed_res:30,fixed_def:800}}];let u=!1;pe.subscribe(n=>{s(2,u=!!n)}),Be.forEach(n=>{n.src=It});const d=()=>{u?pe.set(null):pe.set(r)};return t.$$set=n=>{"optionsOpen"in n&&s(0,l=n.optionsOpen),"language"in n&&s(1,a=n.language)},[l,a,u,o,d]}class Vt extends ve{constructor(e){super(),be(this,e,zt,St,Ae,{optionsOpen:0,language:1})}}function Re(t,e){switch(e){case"zh":return t+"层";case"ja":return"第"+t+"層";case"en":default:return t+"F"}}function Ue(t,e,s){const l=t.slice();return l[10]=e[s],l}function Gt(t){let e,s=V[t[0]].sami_levels[t[2]-1]+"",l;return{c(){e=A("p"),l=Z(s)},l(a){e=F(a,"P",{});var o=y(e);l=J(o,s),o.forEach(p)},m(a,o){W(a,e,o),c(e,l)},p(a,o){o&5&&s!==(s=V[a[0]].sami_levels[a[2]-1]+"")&&oe(l,s)},d(a){a&&p(e)}}}function Pt(t){let e,s=V[t[0]].sami_portal+"",l;return{c(){e=A("p"),l=Z(s),this.h()},l(a){e=F(a,"P",{class:!0});var o=y(e);l=J(o,s),o.forEach(p),this.h()},h(){i(e,"class","text-[#FF99CA]")},m(a,o){W(a,e,o),c(e,l)},p(a,o){o&1&&s!==(s=V[a[0]].sami_portal+"")&&oe(l,s)},d(a){a&&p(e)}}}function Ke(t){let e,s=t[4],l=[];for(let a=0;a<s.length;a+=1)l[a]=We(Ue(t,s,a));return{c(){for(let a=0;a<l.length;a+=1)l[a].c();e=Ge()},l(a){for(let o=0;o<l.length;o+=1)l[o].l(a);e=Ge()},m(a,o){for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(a,o);W(a,e,o)},p(a,o){if(o&16){s=a[4];let r;for(r=0;r<s.length;r+=1){const u=Ue(a,s,r);l[r]?l[r].p(u,o):(l[r]=We(u),l[r].c(),l[r].m(e.parentNode,e))}for(;r<l.length;r+=1)l[r].d(1);l.length=s.length}},d(a){Te(l,a),a&&p(e)}}}function We(t){let e,s,l;return{c(){e=A("img"),this.h()},l(a){e=F(a,"IMG",{src:!0,class:!0,alt:!0}),this.h()},h(){_e(e.src,s=t[10].src)||i(e,"src",s),i(e,"class","absolute -inset-[9999px] z-[-1] m-auto"),i(e,"alt",l=t[10].name_zh)},m(a,o){W(a,e,o)},p(a,o){o&16&&!_e(e.src,s=a[10].src)&&i(e,"src",s),o&16&&l!==(l=a[10].name_zh)&&i(e,"alt",l)},d(a){a&&p(e)}}}function Yt(t){let e,s,l,a,o=Re(t[2],t[0])+"",r,u,d,n,m,h,_,g,v,Y;function K(b,M){return b[3]?Pt:Gt}let k=K(t),$=k(t),C=t[4].length>0&&Ke(t);function I(b){t[7](b)}let j={language:t[0]};return t[1]!==void 0&&(j.optionsOpen=t[1]),h=new Vt({props:j}),ct.push(()=>mt(h,"optionsOpen",I)),{c(){e=A("div"),s=A("button"),l=A("div"),a=A("p"),r=Z(o),u=Z(" -"),d=L(),$.c(),n=L(),C&&C.c(),m=L(),x(h.$$.fragment),this.h()},l(b){e=F(b,"DIV",{class:!0});var M=y(e);s=F(M,"BUTTON",{id:!0});var Q=y(s);l=F(Q,"DIV",{class:!0});var G=y(l);a=F(G,"P",{});var P=y(a);r=J(P,o),u=J(P," -"),P.forEach(p),d=S(G),$.l(G),G.forEach(p),Q.forEach(p),n=S(M),C&&C.l(M),m=S(M),ee(h.$$.fragment,M),M.forEach(p),this.h()},h(){i(l,"class","flex justify-center items-center gap-x-1"),i(s,"id","floor-options"),i(e,"class","relative mx-auto select-none")},m(b,M){W(b,e,M),c(e,s),c(s,l),c(l,a),c(a,r),c(a,u),c(l,d),$.m(l,null),c(e,n),C&&C.m(e,null),c(e,m),te(h,e,null),g=!0,v||(Y=[he(s,"click",t[6]),dt(Ft.call(null,e)),he(e,"outclick",t[8])],v=!0)},p(b,[M]){(!g||M&5)&&o!==(o=Re(b[2],b[0])+"")&&oe(r,o),k===(k=K(b))&&$?$.p(b,M):($.d(1),$=k(b),$&&($.c(),$.m(l,null))),b[4].length>0?C?C.p(b,M):(C=Ke(b),C.c(),C.m(e,m)):C&&(C.d(1),C=null);const Q={};M&1&&(Q.language=b[0]),!_&&M&2&&(_=!0,Q.optionsOpen=b[1],gt(()=>_=!1)),h.$set(Q)},i(b){g||(O(h.$$.fragment,b),g=!0)},o(b){U(h.$$.fragment,b),g=!1},d(b){b&&p(e),$.d(),C&&C.d(),le(h),v=!1,pt(Y)}}}function Ot(t,e,s){let l,a,o;ue(t,me,g=>s(2,l=g)),ue(t,pe,g=>s(3,a=g)),ue(t,fe,g=>s(4,o=g));let{stageFloors:r,language:u}=e,d=!1;function n(g){g.includes(l)||(me.set(Math.min(...r)),fe.set([]))}const m=()=>s(1,d=!d);function h(g){d=g,s(1,d)}const _=()=>s(1,d=!1);return t.$$set=g=>{"stageFloors"in g&&s(5,r=g.stageFloors),"language"in g&&s(0,u=g.language)},t.$$.update=()=>{t.$$.dirty&32&&n(r)},[u,d,l,a,o,r,m,h,_]}class jt extends ve{constructor(e){super(),be(this,e,Ot,Yt,Ae,{stageFloors:5,language:0})}}function Qt(t){let e,s;return e=new jt({props:{slot:"floorTitle",stageFloors:t[0].mapConfig.floors,language:t[1]}}),{c(){x(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,a){te(e,l,a),s=!0},p(l,a){const o={};a&1&&(o.stageFloors=l[0].mapConfig.floors),a&2&&(o.language=l[1]),e.$set(o)},i(l){s||(O(e.$$.fragment,l),s=!0)},o(l){U(e.$$.fragment,l),s=!1},d(l){le(e,l)}}}function He(t){let e,s;return e=new At({props:{mapEliteMods:t[0].mapConfig.elite_mods,eliteMods:xe,rogueTopic:Ce}}),{c(){x(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,a){te(e,l,a),s=!0},p(l,a){const o={};a&1&&(o.mapEliteMods=l[0].mapConfig.elite_mods),e.$set(o)},i(l){s||(O(e.$$.fragment,l),s=!0)},o(l){U(e.$$.fragment,l),s=!1},d(l){le(e,l)}}}function Rt(t){let e,s,l,a,o,r,u,d,n,m,h,_,g,v,Y,K,k,$,C,I,j,b,M,Q,G,P;document.title=e=t[0].mapConfig.code+`\r
		`+t[2]+" / "+V[t[1]].title_post,h=new nt({props:{language:t[1],$$slots:{floorTitle:[Qt]},$$scope:{ctx:t}}}),Y=new rt({props:{mapConfig:t[0].mapConfig,language:t[1],stageName:t[2],rogueTopic:Ce,selectedFloor:me}}),k=new ht({props:{language:t[1],difficulty:we,rogueTopic:Ce}});let B=t[0].mapConfig.elite_mods&&He(t);return I=new it({props:{enemies:t[3],language:t[1],specialMods:kt}}),M=new vt({props:{language:t[1]}}),G=new bt({props:{language:t[1],rogueTopic:Ce,selectedRelics:qe}}),{c(){s=A("meta"),a=A("meta"),r=A("meta"),d=A("meta"),m=L(),x(h.$$.fragment),_=L(),g=A("main"),v=A("div"),x(Y.$$.fragment),K=L(),x(k.$$.fragment),$=L(),B&&B.c(),C=L(),x(I.$$.fragment),j=L(),b=A("div"),x(M.$$.fragment),Q=L(),x(G.$$.fragment),this.h()},l(f){const E=_t("svelte-1kp9jv8",document.head);s=F(E,"META",{name:!0,content:!0}),a=F(E,"META",{property:!0,content:!0}),r=F(E,"META",{property:!0,content:!0}),d=F(E,"META",{property:!0,content:!0}),E.forEach(p),m=S(f),ee(h.$$.fragment,f),_=S(f),g=F(f,"MAIN",{class:!0});var H=y(g);v=F(H,"DIV",{class:!0});var z=y(v);ee(Y.$$.fragment,z),K=S(z),ee(k.$$.fragment,z),$=S(z),B&&B.l(z),C=S(z),ee(I.$$.fragment,z),j=S(z),b=F(z,"DIV",{class:!0});var se=y(b);ee(M.$$.fragment,se),se.forEach(p),z.forEach(p),H.forEach(p),Q=S(f),ee(G.$$.fragment,f),this.h()},h(){i(s,"name","description"),i(s,"content",l=V[t[1]].title_post),i(a,"property","og:description"),i(a,"content",o=V[t[1]].title_post),i(r,"property","og:title"),i(r,"content",u=t[0].mapConfig.code+"_"+t[2]),i(d,"property","og:url"),i(d,"content",n=`https://tomimi.dev/${t[1]}/stages/${t[0].mapConfig.code+"_"+t[2]}`),i(b,"class","mt-8 sm:mt-16"),i(v,"class","w-screen sm:w-full max-w-7xl mx-auto"),i(g,"class","bg-neutral-800 text-near-white pb-32 pt-8 sm:pt-16 md:pb-28")},m(f,E){c(document.head,s),c(document.head,a),c(document.head,r),c(document.head,d),W(f,m,E),te(h,f,E),W(f,_,E),W(f,g,E),c(g,v),te(Y,v,null),c(v,K),te(k,v,null),c(v,$),B&&B.m(v,null),c(v,C),te(I,v,null),c(v,j),c(v,b),te(M,b,null),W(f,Q,E),te(G,f,E),P=!0},p(f,[E]){(!P||E&7)&&e!==(e=f[0].mapConfig.code+`\r
		`+f[2]+" / "+V[f[1]].title_post)&&(document.title=e),(!P||E&2&&l!==(l=V[f[1]].title_post))&&i(s,"content",l),(!P||E&2&&o!==(o=V[f[1]].title_post))&&i(a,"content",o),(!P||E&5&&u!==(u=f[0].mapConfig.code+"_"+f[2]))&&i(r,"content",u),(!P||E&7&&n!==(n=`https://tomimi.dev/${f[1]}/stages/${f[0].mapConfig.code+"_"+f[2]}`))&&i(d,"content",n);const H={};E&2&&(H.language=f[1]),E&67&&(H.$$scope={dirty:E,ctx:f}),h.$set(H);const z={};E&1&&(z.mapConfig=f[0].mapConfig),E&2&&(z.language=f[1]),E&4&&(z.stageName=f[2]),Y.$set(z);const se={};E&2&&(se.language=f[1]),k.$set(se),f[0].mapConfig.elite_mods?B?(B.p(f,E),E&1&&O(B,1)):(B=He(f),B.c(),O(B,1),B.m(v,C)):B&&(Ze(),U(B,1,1,()=>{B=null}),Je());const ne={};E&8&&(ne.enemies=f[3]),E&2&&(ne.language=f[1]),I.$set(ne);const ae={};E&2&&(ae.language=f[1]),M.$set(ae);const re={};E&2&&(re.language=f[1]),G.$set(re)},i(f){P||(O(h.$$.fragment,f),O(Y.$$.fragment,f),O(k.$$.fragment,f),O(B),O(I.$$.fragment,f),O(M.$$.fragment,f),O(G.$$.fragment,f),P=!0)},o(f){U(h.$$.fragment,f),U(Y.$$.fragment,f),U(k.$$.fragment,f),U(B),U(I.$$.fragment,f),U(M.$$.fragment,f),U(G.$$.fragment,f),P=!1},d(f){p(s),p(a),p(r),p(d),f&&p(m),le(h,f),f&&p(_),f&&p(g),le(Y),le(k),B&&B.d(),le(I),le(M),f&&p(Q),le(G,f)}}}const Ce="rogue_sami";function Ut(t,e,s){let l,a,o,r,u;ue(t,Dt,n=>s(4,r=n)),ue(t,Ct,n=>s(5,u=n));let{data:d}=e;return t.$$set=n=>{"data"in n&&s(0,d=n.data)},t.$$.update=()=>{t.$$.dirty&1&&s(1,l=d.language),t.$$.dirty&49&&s(3,a=ft(d.enemies,u,...r)),t.$$.dirty&3&&s(2,o=d.mapConfig[`name_${l}`]||d.mapConfig.name_zh)},[d,l,o,a,r,u]}class tl extends ve{constructor(e){super(),be(this,e,Ut,Rt,Ae,{data:0})}}export{tl as component,el as universal};
