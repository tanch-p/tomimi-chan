import{s as Xe,u as Je,S as Ke,a as Qe,E as Fe,p as We}from"../chunks/StageHeader.91015f8c.js";import{S as ue,i as de,s as pe,k as y,l as x,m as I,h as m,n as c,b as P,I as be,a as z,c as N,q as W,r as Y,L as S,H as _,O as ce,u as ae,g as A,v as ge,f as he,d as H,M as oe,Q as Ye,J as _e,o as Ae,R as Re,y as ee,z as te,A as le,B as re,e as fe,K as me,T as ye,U as xe,G as Ze}from"../chunks/index.fef03e7a.js";import{k as we,w as et}from"../chunks/singletons.1f0531de.js";import{t as K}from"../chunks/translations.484a5201.js";import{C as tt}from"../chunks/CCNav.0ce95286.js";const lt=async({params:r})=>{const e=r.lang,[t,l]=r.name.split("_"),{mapConfig:n,enemies:a}=await Xe(t,null),s=l?n.contracts.find(o=>o.id===l):n.contracts.find(o=>o.type==="perma");return{mapConfig:n,enemies:a,language:e,contracts:s}},Vt=Object.freeze(Object.defineProperty({__proto__:null,load:lt},Symbol.toStringTag,{value:"Module"})),F=et([]),Ue=we([F],([r])=>Je(r.map(e=>e.effects))),Ge=we(Ue,r=>r.statMods),rt=we(Ue,r=>r.specialMods);function st(r){let e,t,l,n,a;return{c(){e=y("div"),t=z(),l=y("div"),n=z(),a=y("div"),this.h()},l(s){e=x(s,"DIV",{class:!0}),I(e).forEach(m),t=N(s),l=x(s,"DIV",{class:!0}),I(l).forEach(m),n=N(s),a=x(s,"DIV",{class:!0}),I(a).forEach(m),this.h()},h(){c(e,"class","w-0 h-0 border-x-transparent border-x-[8px] border-solid border-b-[12px] border-b-red-600 z-[1] translate-x-1"),c(l,"class","w-0 h-0 border-x-transparent border-x-[8px] border-solid border-t-[12px] border-t-red-600 z-[1] "),c(a,"class","w-0 h-0 border-x-transparent border-x-[8px] border-solid border-b-[12px] border-b-red-600 z-[1] -translate-x-1")},m(s,o){P(s,e,o),P(s,t,o),P(s,l,o),P(s,n,o),P(s,a,o)},d(s){s&&m(e),s&&m(t),s&&m(l),s&&m(n),s&&m(a)}}}function nt(r){let e,t,l;return{c(){e=y("div"),t=z(),l=y("div"),this.h()},l(n){e=x(n,"DIV",{class:!0}),I(e).forEach(m),t=N(n),l=x(n,"DIV",{class:!0}),I(l).forEach(m),this.h()},h(){c(e,"class","w-0 h-0 border-x-transparent border-x-[8px] border-solid border-b-[12px] border-b-gray-800 z-[1] translate-x-0.5"),c(l,"class","w-0 h-0 border-x-transparent border-x-[8px] border-solid border-t-[12px] border-t-gray-800 z-[1] -translate-x-0.5")},m(n,a){P(n,e,a),P(n,t,a),P(n,l,a)},d(n){n&&m(e),n&&m(t),n&&m(l)}}}function at(r){let e;return{c(){e=y("div"),this.h()},l(t){e=x(t,"DIV",{class:!0}),I(e).forEach(m),this.h()},h(){c(e,"class","w-0 h-0 border-x-transparent border-x-[8px] border-solid border-b-[12px] border-b-gray-500 z-[1] ")},m(t,l){P(t,e,l)},d(t){t&&m(e)}}}function ot(r){let e,t;function l(s,o){return s[0]===1?at:s[0]===2?nt:st}let n=l(r),a=n(r);return{c(){e=y("div"),a.c(),this.h()},l(s){e=x(s,"DIV",{class:!0});var o=I(e);a.l(o),o.forEach(m),this.h()},h(){c(e,"class",t=`flex flex-row bg-white place-content-center py-1   ${r[1]==="daily"?"rounded-r h-full min-w-[45px]":"rounded h-[20px] min-w-[50px]"}`)},m(s,o){P(s,e,o),a.m(e,null)},p(s,[o]){n!==(n=l(s))&&(a.d(1),a=n(s),a&&(a.c(),a.m(e,null))),o&2&&t!==(t=`flex flex-row bg-white place-content-center py-1   ${s[1]==="daily"?"rounded-r h-full min-w-[45px]":"rounded h-[20px] min-w-[50px]"}`)&&c(e,"class",t)},i:be,o:be,d(s){s&&m(e),a.d()}}}function it(r,e,t){let{risk:l,type:n}=e;return r.$$set=a=>{"risk"in a&&t(0,l=a.risk),"type"in a&&t(1,n=a.type)},[l,n]}class ke extends ue{constructor(e){super(),de(this,e,it,ot,pe,{risk:0,type:1})}}const He=r=>{const e=document.querySelector(r);let t=!1,l,n;const a=h=>{t=!0,e.classList.add("active"),l=h.pageX-e.offsetLeft,n=e.scrollLeft},s=()=>{t=!1,e.classList.remove("active")},o=h=>{t=!1,e.classList.remove("active")},i=h=>{if(!t)return;h.preventDefault();const v=(h.pageX-e.offsetLeft-l)*3;e.scrollLeft=n-v};return e.addEventListener("mousedown",a),e.addEventListener("mouseleave",s),e.addEventListener("mouseup",o),e.addEventListener("mousemove",i),function(){e.removeEventListener("mousedown",a),e.removeEventListener("mouseleave",s),e.removeEventListener("mouseup",o),e.removeEventListener("mousemove",i)}};const{Boolean:ct}=Re;function Ee(r,e,t){const l=r.slice();return l[16]=e[t],l[18]=t,l}function Ie(r,e,t){const l=r.slice();l[19]=e[t];const n=!!l[5].find(function(...o){return r[13](l[19],...o)});l[20]=n;const a=!!l[5].find(function(...o){return r[14](l[16],...o)});return l[21]=a,l}function Ce(r,e,t){const l=r.slice();return l[24]=e[t],l}function De(r){let e,t,l,n,a,s,o,i,h,d,v=r[24]+"",f,g,$;return i=new ke({props:{risk:r[24],type:"perma"}}),{c(){e=y("div"),t=y("div"),l=y("p"),n=W("Contigency "),a=y("br"),s=W(" Level"),o=z(),ee(i.$$.fragment),h=z(),d=y("span"),f=W(v),g=z(),this.h()},l(w){e=x(w,"DIV",{class:!0});var C=I(e);t=x(C,"DIV",{class:!0});var E=I(t);l=x(E,"P",{class:!0});var D=I(l);n=Y(D,"Contigency "),a=x(D,"BR",{}),s=Y(D," Level"),D.forEach(m),o=N(E),te(i.$$.fragment,E),E.forEach(m),h=N(C),d=x(C,"SPAN",{class:!0});var T=I(d);f=Y(T,v),T.forEach(m),g=N(C),C.forEach(m),this.h()},h(){c(l,"class","text-[10px] text-gray-200 mb-1"),c(t,"class","leading-[10px] mx-[4px]"),c(d,"class","text-white text-[50px] mr-[2px] font-normal font-sans"),c(e,"class",S("min-w-[50px] max-w-[100px] h-[65px] flex items-center ")+" svelte-p0spr6")},m(w,C){P(w,e,C),_(e,t),_(t,l),_(l,n),_(l,a),_(l,s),_(t,o),le(i,t,null),_(e,h),_(e,d),_(d,f),_(e,g),$=!0},p:be,i(w){$||(A(i.$$.fragment,w),$=!0)},o(w){H(i.$$.fragment,w),$=!1},d(w){w&&m(e),re(i)}}}function Ve(r){let e,t,l,n,a,s=" ",o,i,h,d;function v(){return r[12](r[16],r[19],r[20],r[21],r[18])}return{c(){e=y("button"),t=y("img"),o=W(s),this.h()},l(f){e=x(f,"BUTTON",{type:!0,title:!0});var g=I(e);t=x(g,"IMG",{src:!0,alt:!0,width:!0,height:!0,class:!0}),o=Y(g,s),g.forEach(m),this.h()},h(){me(t.src,l="https://res.cloudinary.com/dbqz7mebk/image/upload/v1680366257/tomimi.dev/cc/"+r[19].img+".webp")||c(t,"src",l),c(t,"alt",n=`${r[19].img}`),c(t,"width","64px"),c(t,"height","64px"),c(t,"class",a=S(`aspect-[1/1] ${r[20]?"bg-blue-500":r[21]?"bg-rose-600 opacity-90 brightness-75":""}`)+" svelte-p0spr6"),c(e,"type","button"),c(e,"title",i=r[19].tooltip[r[0]])},m(f,g){P(f,e,g),_(e,t),_(e,o),h||(d=ce(e,"click",v),h=!0)},p(f,g){r=f,g&2&&!me(t.src,l="https://res.cloudinary.com/dbqz7mebk/image/upload/v1680366257/tomimi.dev/cc/"+r[19].img+".webp")&&c(t,"src",l),g&2&&n!==(n=`${r[19].img}`)&&c(t,"alt",n),g&34&&a!==(a=S(`aspect-[1/1] ${r[20]?"bg-blue-500":r[21]?"bg-rose-600 opacity-90 brightness-75":""}`)+" svelte-p0spr6")&&c(t,"class",a),g&3&&i!==(i=r[19].tooltip[r[0]])&&c(e,"title",i)},d(f){f&&m(e),h=!1,d()}}}function Te(r){var a;let e,t,l,n=((a=r[19])==null?void 0:a.img)&&Ve(r);return{c(){e=y("div"),n&&n.c(),t=z(),this.h()},l(s){e=x(s,"DIV",{class:!0});var o=I(e);n&&n.l(o),t=N(o),o.forEach(m),this.h()},h(){c(e,"class",l=S(`${r[3]?"border":""} w-[65px] h-[65px] p-[1px] ${r[2]?r[8](r[19].rank):"bg-[#90928f]"} `)+" svelte-p0spr6")},m(s,o){P(s,e,o),n&&n.m(e,null),_(e,t)},p(s,o){var i;(i=s[19])!=null&&i.img?n?n.p(s,o):(n=Ve(s),n.c(),n.m(e,t)):n&&(n.d(1),n=null),o&14&&l!==(l=S(`${s[3]?"border":""} w-[65px] h-[65px] p-[1px] ${s[2]?s[8](s[19].rank):"bg-[#90928f]"} `)+" svelte-p0spr6")&&c(e,"class",l)},d(s){s&&m(e),n&&n.d()}}}function Me(r){let e,t=r[16].options,l=[];for(let n=0;n<t.length;n+=1)l[n]=Te(Ie(r,t,n));return{c(){for(let n=0;n<l.length;n+=1)l[n].c();e=fe()},l(n){for(let a=0;a<l.length;a+=1)l[a].l(n);e=fe()},m(n,a){for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(n,a);P(n,e,a)},p(n,a){if(a&431){t=n[16].options;let s;for(s=0;s<t.length;s+=1){const o=Ie(n,t,s);l[s]?l[s].p(o,a):(l[s]=Te(o),l[s].c(),l[s].m(e.parentNode,e))}for(;s<l.length;s+=1)l[s].d(1);l.length=t.length}},d(n){oe(l,n),n&&m(e)}}}function ft(r){let e,t,l,n=K[r[0]].sticky_table+"",a,s,o,i,h=K[r[0]].toggle_grids+"",d,v,f,g,$=K[r[0]].toggle_color+"",w,C,E,D,T,B,R,U,L,G,J,O=r[6],k=[];for(let b=0;b<O.length;b+=1)k[b]=De(Ce(r,O,b));const ie=b=>H(k[b],1,1,()=>{k[b]=null});let V=r[1],M=[];for(let b=0;b<V.length;b+=1)M[b]=Me(Ee(r,V,b));return{c(){e=y("div"),t=y("div"),l=y("button"),a=W(n),o=z(),i=y("button"),d=W(h),f=z(),g=y("button"),w=W($),E=z(),D=y("div"),T=y("div");for(let b=0;b<k.length;b+=1)k[b].c();B=z(),R=y("div");for(let b=0;b<M.length;b+=1)M[b].c();this.h()},l(b){e=x(b,"DIV",{class:!0});var u=I(e);t=x(u,"DIV",{class:!0});var p=I(t);l=x(p,"BUTTON",{class:!0});var j=I(l);a=Y(j,n),j.forEach(m),o=N(p),i=x(p,"BUTTON",{class:!0});var q=I(i);d=Y(q,h),q.forEach(m),f=N(p),g=x(p,"BUTTON",{class:!0});var Z=I(g);w=Y(Z,$),Z.forEach(m),p.forEach(m),E=N(u),D=x(u,"DIV",{class:!0});var X=I(D);T=x(X,"DIV",{class:!0});var se=I(T);for(let Q=0;Q<k.length;Q+=1)k[Q].l(se);se.forEach(m),B=N(X),R=x(X,"DIV",{class:!0});var ne=I(R);for(let Q=0;Q<M.length;Q+=1)M[Q].l(ne);ne.forEach(m),X.forEach(m),u.forEach(m),this.h()},h(){c(l,"class",s=S(`text-xs font-semibold text-center py-1 px-2 border rounded-lg  ${r[4]?"bg-gray-400":"border-gray-400"}`)+" svelte-p0spr6"),c(i,"class",v=S(`text-xs font-semibold text-center py-1 px-2 border rounded-lg  ${r[3]?"bg-gray-400":"border-gray-400"}`)+" svelte-p0spr6"),c(g,"class",C=S(`text-xs font-semibold text-center py-1 px-2 border rounded-lg  ${r[2]?"bg-gray-400":"border-gray-400"}`)+" svelte-p0spr6"),c(t,"class","w-full flex flex-wrap place-content-end mb-1"),c(T,"class","bg-[#545753] md:sticky left-0 z-[1] border-x border-gray-700"),c(R,"class","grid grid-flow-col grid-rows-3 auto-cols-[65px] no-scrollbar"),c(D,"class",S("slider flex w-full h-fit max-w-[900px] overflow-x-auto overflow-y-clip no-scrollbar select-none")+" svelte-p0spr6"),c(e,"class",U=S(`max-w-4xl mx-auto ${r[4]?"sticky top-16 sm:top-6 z-10":" "}`)+" svelte-p0spr6")},m(b,u){P(b,e,u),_(e,t),_(t,l),_(l,a),_(t,o),_(t,i),_(i,d),_(t,f),_(t,g),_(g,w),_(e,E),_(e,D),_(D,T);for(let p=0;p<k.length;p+=1)k[p]&&k[p].m(T,null);_(D,B),_(D,R);for(let p=0;p<M.length;p+=1)M[p]&&M[p].m(R,null);L=!0,G||(J=[ce(l,"click",r[9]),ce(i,"click",r[10]),ce(g,"click",r[11])],G=!0)},p(b,[u]){if((!L||u&1)&&n!==(n=K[b[0]].sticky_table+"")&&ae(a,n),(!L||u&16&&s!==(s=S(`text-xs font-semibold text-center py-1 px-2 border rounded-lg  ${b[4]?"bg-gray-400":"border-gray-400"}`)+" svelte-p0spr6"))&&c(l,"class",s),(!L||u&1)&&h!==(h=K[b[0]].toggle_grids+"")&&ae(d,h),(!L||u&8&&v!==(v=S(`text-xs font-semibold text-center py-1 px-2 border rounded-lg  ${b[3]?"bg-gray-400":"border-gray-400"}`)+" svelte-p0spr6"))&&c(i,"class",v),(!L||u&1)&&$!==($=K[b[0]].toggle_color+"")&&ae(w,$),(!L||u&4&&C!==(C=S(`text-xs font-semibold text-center py-1 px-2 border rounded-lg  ${b[2]?"bg-gray-400":"border-gray-400"}`)+" svelte-p0spr6"))&&c(g,"class",C),u&64){O=b[6];let p;for(p=0;p<O.length;p+=1){const j=Ce(b,O,p);k[p]?(k[p].p(j,u),A(k[p],1)):(k[p]=De(j),k[p].c(),A(k[p],1),k[p].m(T,null))}for(ge(),p=O.length;p<k.length;p+=1)ie(p);he()}if(u&431){V=b[1];let p;for(p=0;p<V.length;p+=1){const j=Ee(b,V,p);M[p]?M[p].p(j,u):(M[p]=Me(j),M[p].c(),M[p].m(R,null))}for(;p<M.length;p+=1)M[p].d(1);M.length=V.length}(!L||u&16&&U!==(U=S(`max-w-4xl mx-auto ${b[4]?"sticky top-16 sm:top-6 z-10":" "}`)+" svelte-p0spr6"))&&c(e,"class",U)},i(b){if(!L){for(let u=0;u<O.length;u+=1)A(k[u]);L=!0}},o(b){k=k.filter(ct);for(let u=0;u<k.length;u+=1)H(k[u]);L=!1},d(b){b&&m(e),oe(k,b),oe(M,b),G=!1,Ye(J)}}}function ut(r,e,t){let l;_e(r,F,T=>t(5,l=T));let{language:n,contracts:a=[]}=e;const s=[1,2,3];let o=!1,i=!1,h=!1;const d=(T,B,R,U,L)=>{R?F.update(G=>G.filter(J=>J.img!==B.img)):U?F.update(G=>(G=G.filter(J=>J.category!==T),[...G,{...B,category:T,index:L}])):F.update(G=>[...G,{...B,category:T,index:L}])},v=T=>{switch(T){case 1:return"bg-gray-500";case 2:return"bg-gray-800";case 3:return"bg-red-800"}};let f=()=>{};Ae(()=>(f=He(".slider"),f));const g=()=>t(4,h=!h),$=()=>t(3,i=!i),w=()=>t(2,o=!o),C=(T,B,R,U,L)=>d(T.category,B,R,U,L),E=(T,B)=>B.img===T.img,D=(T,B)=>B.category===T.category;return r.$$set=T=>{"language"in T&&t(0,n=T.language),"contracts"in T&&t(1,a=T.contracts)},[n,a,o,i,h,l,s,d,v,g,$,w,C,E,D]}class dt extends ue{constructor(e){super(),de(this,e,ut,ft,pe,{language:0,contracts:1})}}const{Boolean:pt}=Re;function Le(r,e,t){const l=r.slice();return l[9]=e[t],l}function Be(r,e,t){const l=r.slice();return l[12]=e[t],l[14]=t,l}function ze(r,e,t){const l=r.slice();l[15]=e[t];const n=!!l[2].find(function(...o){return r[7](l[15],...o)});l[16]=n;const a=!!l[2].find(function(...o){return r[8](l[12],...o)});return l[17]=a,l}function Ne(r){let e,t,l,n,a,s,o=r[15].name[r[0]]+"",i,h,d,v,f,g,$;function w(){return r[6](r[12],r[15],r[16],r[17],r[14])}return{c(){e=y("button"),t=y("img"),a=z(),s=y("p"),i=W(o),d=z(),this.h()},l(C){e=x(C,"BUTTON",{class:!0,title:!0});var E=I(e);t=x(E,"IMG",{src:!0,alt:!0,width:!0,height:!0,class:!0}),a=N(E),s=x(E,"P",{class:!0});var D=I(s);i=Y(D,o),D.forEach(m),d=N(E),E.forEach(m),this.h()},h(){me(t.src,l="https://res.cloudinary.com/dbqz7mebk/image/upload/v1680366257/tomimi.dev/cc/"+r[15].img+".webp")||c(t,"src",l),c(t,"alt",n=`${r[15].img}`),c(t,"width","60px"),c(t,"height","60px"),c(t,"class",S("aspect-[1/1]")+" svelte-p0spr6"),c(s,"class",h=S(`text-start px-2 ${r[0]==="en"?"text-sm font-semibold w-[152px]":"font-medium w-[150px]"}`)+" svelte-p0spr6"),c(e,"class",v=S(`flex flex-wrap flex-row place-items-center rounded md:min-w-min h-[60px] mx-2 my-1 active:brightness-75 cursor-pointer ${r[16]?"bg-blue-500 text-near-white":r[17]?"bg-rose-600 opacity-90 brightness-75 text-near-white":"bg-[rgb(208,214,214)]"}`)+" svelte-p0spr6"),c(e,"title",f=r[15].tooltip[r[0]])},m(C,E){P(C,e,E),_(e,t),_(e,a),_(e,s),_(s,i),_(e,d),g||($=ce(e,"click",w),g=!0)},p(C,E){r=C,E&2&&!me(t.src,l="https://res.cloudinary.com/dbqz7mebk/image/upload/v1680366257/tomimi.dev/cc/"+r[15].img+".webp")&&c(t,"src",l),E&2&&n!==(n=`${r[15].img}`)&&c(t,"alt",n),E&3&&o!==(o=r[15].name[r[0]]+"")&&ae(i,o),E&1&&h!==(h=S(`text-start px-2 ${r[0]==="en"?"text-sm font-semibold w-[152px]":"font-medium w-[150px]"}`)+" svelte-p0spr6")&&c(s,"class",h),E&6&&v!==(v=S(`flex flex-wrap flex-row place-items-center rounded md:min-w-min h-[60px] mx-2 my-1 active:brightness-75 cursor-pointer ${r[16]?"bg-blue-500 text-near-white":r[17]?"bg-rose-600 opacity-90 brightness-75 text-near-white":"bg-[rgb(208,214,214)]"}`)+" svelte-p0spr6")&&c(e,"class",v),E&3&&f!==(f=r[15].tooltip[r[0]])&&c(e,"title",f)},d(C){C&&m(e),g=!1,$()}}}function Se(r){let e,t=r[15].rank===r[9]&&Ne(r);return{c(){t&&t.c(),e=fe()},l(l){t&&t.l(l),e=fe()},m(l,n){t&&t.m(l,n),P(l,e,n)},p(l,n){l[15].rank===l[9]?t?t.p(l,n):(t=Ne(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(l){t&&t.d(l),l&&m(e)}}}function Pe(r){let e,t=r[12].options,l=[];for(let n=0;n<t.length;n+=1)l[n]=Se(ze(r,t,n));return{c(){for(let n=0;n<l.length;n+=1)l[n].c();e=fe()},l(n){for(let a=0;a<l.length;a+=1)l[a].l(n);e=fe()},m(n,a){for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(n,a);P(n,e,a)},p(n,a){if(a&31){t=n[12].options;let s;for(s=0;s<t.length;s+=1){const o=ze(n,t,s);l[s]?l[s].p(o,a):(l[s]=Se(o),l[s].c(),l[s].m(e.parentNode,e))}for(;s<l.length;s+=1)l[s].d(1);l.length=t.length}},d(n){oe(l,n),n&&m(e)}}}function Oe(r){let e,t,l,n,a,s,o,i,h,d;s=new ke({props:{risk:r[9],type:"daily"}});let v=r[1],f=[];for(let g=0;g<v.length;g+=1)f[g]=Pe(Be(r,v,g));return{c(){e=y("div"),t=y("div"),l=y("p"),n=W("危機等級"),a=z(),ee(s.$$.fragment),o=z(),i=y("div");for(let g=0;g<f.length;g+=1)f[g].c();h=z(),this.h()},l(g){e=x(g,"DIV",{class:!0});var $=I(e);t=x($,"DIV",{class:!0});var w=I(t);l=x(w,"P",{class:!0});var C=I(l);n=Y(C,"危機等級"),C.forEach(m),a=N(w),te(s.$$.fragment,w),w.forEach(m),o=N($),i=x($,"DIV",{class:!0});var E=I(i);for(let D=0;D<f.length;D+=1)f[D].l(E);E.forEach(m),h=N($),$.forEach(m),this.h()},h(){c(l,"class",S(`text-white ${r[5](r[9])} rounded-l px-1`)+" svelte-p0spr6"),c(t,"class","rounded flex flex-wrap flex-row h-[24px] mb-1"),c(i,"class","grid grid-rows-3"),c(e,"class","border md:max-w-[250px] min-h-[30px] mx-2 mb-2 bg-[rgb(153,159,163)]")},m(g,$){P(g,e,$),_(e,t),_(t,l),_(l,n),_(t,a),le(s,t,null),_(e,o),_(e,i);for(let w=0;w<f.length;w+=1)f[w]&&f[w].m(i,null);_(e,h),d=!0},p(g,$){if($&31){v=g[1];let w;for(w=0;w<v.length;w+=1){const C=Be(g,v,w);f[w]?f[w].p(C,$):(f[w]=Pe(C),f[w].c(),f[w].m(i,null))}for(;w<f.length;w+=1)f[w].d(1);f.length=v.length}},i(g){d||(A(s.$$.fragment,g),d=!0)},o(g){H(s.$$.fragment,g),d=!1},d(g){g&&m(e),re(s),oe(f,g)}}}function mt(r){let e,t,l,n,a=r[3],s=[];for(let i=0;i<a.length;i+=1)s[i]=Oe(Le(r,a,i));const o=i=>H(s[i],1,1,()=>{s[i]=null});return{c(){e=y("div"),t=y("div"),l=y("div");for(let i=0;i<s.length;i+=1)s[i].c();this.h()},l(i){e=x(i,"DIV",{class:!0});var h=I(e);t=x(h,"DIV",{class:!0});var d=I(t);l=x(d,"DIV",{class:!0});var v=I(l);for(let f=0;f<s.length;f+=1)s[f].l(v);v.forEach(m),d.forEach(m),h.forEach(m),this.h()},h(){c(l,"class","flex flex-wrap flex-row md:min-h-min overflow-auto w-max select-none bg-neutral-300"),c(t,"class","w-screen md:w-full overflow-x-scroll md:overflow-hidden text-black"),c(e,"class",S("max-w-4xl mx-auto md:w-[740px]")+" svelte-p0spr6")},m(i,h){P(i,e,h),_(e,t),_(t,l);for(let d=0;d<s.length;d+=1)s[d]&&s[d].m(l,null);n=!0},p(i,[h]){if(h&63){a=i[3];let d;for(d=0;d<a.length;d+=1){const v=Le(i,a,d);s[d]?(s[d].p(v,h),A(s[d],1)):(s[d]=Oe(v),s[d].c(),A(s[d],1),s[d].m(l,null))}for(ge(),d=a.length;d<s.length;d+=1)o(d);he()}},i(i){if(!n){for(let h=0;h<a.length;h+=1)A(s[h]);n=!0}},o(i){s=s.filter(pt);for(let h=0;h<s.length;h+=1)H(s[h]);n=!1},d(i){i&&m(e),oe(s,i)}}}function gt(r,e,t){let l;_e(r,F,f=>t(2,l=f));let{language:n,contracts:a=[]}=e;const s=[1,2,3],o=(f,g,$,w,C)=>{$?F.update(E=>E.filter(D=>D.img!==g.img)):w?F.update(E=>(E=E.filter(D=>D.category!==f),[...E,{...g,category:f,index:C}])):F.update(E=>[...E,{...g,category:f,index:C}])},i=f=>{switch(f){case 1:return"bg-gray-500";case 2:return"bg-gray-800";case 3:return"bg-red-800"}},h=(f,g,$,w,C)=>o(f.category,g,$,w,C),d=(f,g)=>g.img===f.img,v=(f,g)=>g.category===f.category;return r.$$set=f=>{"language"in f&&t(0,n=f.language),"contracts"in f&&t(1,a=f.contracts)},[n,a,l,s,o,i,h,d,v]}class ht extends ue{constructor(e){super(),de(this,e,gt,mt,pe,{language:0,contracts:1})}}function je(r,e,t){const l=r.slice();return l[8]=e[t],l}function qe(r){let e,t,l,n,a=r[8].tooltip[r[1]]+"",s,o,i,h;return t=new ke({props:{risk:r[8].rank,type:"perma"}}),{c(){e=y("div"),ee(t.$$.fragment),l=z(),n=y("p"),s=W(a),o=z(),this.h()},l(d){e=x(d,"DIV",{class:!0});var v=I(e);te(t.$$.fragment,v),l=N(v),n=x(v,"P",{class:!0});var f=I(n);s=Y(f,a),f.forEach(m),o=N(v),v.forEach(m),this.h()},h(){c(n,"class",S("mx-2")+" svelte-j6mudb"),c(e,"class",i=S(`flex ${r[0]==="daily"?"":"md:w-[50%]"}`)+" svelte-j6mudb")},m(d,v){P(d,e,v),le(t,e,null),_(e,l),_(e,n),_(n,s),_(e,o),h=!0},p(d,v){const f={};v&4&&(f.risk=d[8].rank),t.$set(f),(!h||v&6)&&a!==(a=d[8].tooltip[d[1]]+"")&&ae(s,a),(!h||v&1&&i!==(i=S(`flex ${d[0]==="daily"?"":"md:w-[50%]"}`)+" svelte-j6mudb"))&&c(e,"class",i)},i(d){h||(A(t.$$.fragment,d),h=!0)},o(d){H(t.$$.fragment,d),h=!1},d(d){d&&m(e),re(t)}}}function _t(r){let e,t,l,n,a,s,o,i,h,d,v=K[r[1]].cc_clear+"",f,g,$,w,C,E,D,T,B,R,U,L,G,J,O=r[2],k=[];for(let V=0;V<O.length;V+=1)k[V]=qe(je(r,O,V));const ie=V=>H(k[V],1,1,()=>{k[V]=null});return{c(){e=y("div"),t=y("div"),l=y("div");for(let V=0;V<k.length;V+=1)k[V].c();n=z(),a=y("div"),s=y("button"),o=ye("svg"),i=ye("path"),h=z(),d=y("p"),f=W(v),g=z(),$=y("div"),w=y("div"),C=y("p"),E=W("危機等級"),D=z(),T=y("div"),B=y("p"),R=W(r[3]),this.h()},l(V){e=x(V,"DIV",{class:!0});var M=I(e);t=x(M,"DIV",{class:!0});var b=I(t);l=x(b,"DIV",{class:!0});var u=I(l);for(let ve=0;ve<k.length;ve+=1)k[ve].l(u);u.forEach(m),b.forEach(m),n=N(M),a=x(M,"DIV",{class:!0});var p=I(a);s=x(p,"BUTTON",{class:!0});var j=I(s);o=xe(j,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0});var q=I(o);i=xe(q,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),I(i).forEach(m),q.forEach(m),h=N(j),d=x(j,"P",{class:!0});var Z=I(d);f=Y(Z,v),Z.forEach(m),j.forEach(m),g=N(p),$=x(p,"DIV",{class:!0});var X=I($);w=x(X,"DIV",{class:!0});var se=I(w);C=x(se,"P",{class:!0});var ne=I(C);E=Y(ne,"危機等級"),ne.forEach(m),se.forEach(m),D=N(X),T=x(X,"DIV",{class:!0});var Q=I(T);B=x(Q,"P",{class:!0});var $e=I(B);R=Y($e,r[3]),$e.forEach(m),Q.forEach(m),X.forEach(m),p.forEach(m),M.forEach(m),this.h()},h(){c(l,"class","relative flex flex-wrap flex-col gap-y-2 py-2 w-screen md:w-full max-h-[300px] md:h-[300px] md:max-w-[900px] text-[12px] lg:text-md text-gray-300"),c(t,"class","selected-slider bg-[#2e2c2c] border-b border-b-gray-400 svelte-j6mudb"),c(i,"stroke-linecap","round"),c(i,"stroke-linejoin","round"),c(i,"stroke-width",2),c(i,"d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"),c(o,"xmlns","http://www.w3.org/2000/svg"),c(o,"class","h-6 w-6"),c(o,"fill","none"),c(o,"viewBox","0 0 24 24"),c(o,"stroke","black"),c(d,"class","font-semibold text-black"),c(s,"class","flex flex-wrap bg-white border rounded border-gray-800 mx-1 px-1 h-[80%] cursor-pointer active:bg-gray-400"),c(C,"class","text-[10px]"),c(w,"class","w-full"),c(B,"class","text-right text-[20px]"),c(T,"class","w-full"),c($,"class","flex flex-wrap flex-col px-2 h-[110%] border-r-2 border-r-black leading-[16px] text-white"),c(a,"class","flex flex-wrap border border-gray-800 w-[100vw] overflow:hidden md:w-full h-[50px] max-w-[900px] py-2 mb-2 select-none place-items-center bg-[#2e2c2c]"),c(e,"class",U=S(`max-w-4xl mx-auto ${r[0]==="daily"?"md:w-[740px]":""}`)+" svelte-j6mudb")},m(V,M){P(V,e,M),_(e,t),_(t,l);for(let b=0;b<k.length;b+=1)k[b]&&k[b].m(l,null);_(e,n),_(e,a),_(a,s),_(s,o),_(o,i),_(s,h),_(s,d),_(d,f),_(a,g),_(a,$),_($,w),_(w,C),_(C,E),_($,D),_($,T),_(T,B),_(B,R),L=!0,G||(J=ce(s,"click",r[6]),G=!0)},p(V,[M]){if(M&7){O=V[2];let b;for(b=0;b<O.length;b+=1){const u=je(V,O,b);k[b]?(k[b].p(u,M),A(k[b],1)):(k[b]=qe(u),k[b].c(),A(k[b],1),k[b].m(l,null))}for(ge(),b=O.length;b<k.length;b+=1)ie(b);he()}(!L||M&2)&&v!==(v=K[V[1]].cc_clear+"")&&ae(f,v),(!L||M&8)&&ae(R,V[3]),(!L||M&1&&U!==(U=S(`max-w-4xl mx-auto ${V[0]==="daily"?"md:w-[740px]":""}`)+" svelte-j6mudb"))&&c(e,"class",U)},i(V){if(!L){for(let M=0;M<O.length;M+=1)A(k[M]);L=!0}},o(V){k=k.filter(Boolean);for(let M=0;M<k.length;M+=1)H(k[M]);L=!1},d(V){V&&m(e),oe(k,V),G=!1,J()}}}function vt(r,e,t){let l,n;_e(r,F,v=>t(5,n=v));let{ccType:a="perma",language:s,mapConfig:o}=e,i=[];F.subscribe(v=>t(2,i=v.sort((f,g)=>f.index<g.index?-1:f.index>g.index?1:0)));let h=()=>{};Ae(()=>(h=He(".selected-slider"),h));const d=()=>F.set([]);return r.$$set=v=>{"ccType"in v&&t(0,a=v.ccType),"language"in v&&t(1,s=v.language),"mapConfig"in v&&t(4,o=v.mapConfig)},r.$$.update=()=>{r.$$.dirty&16&&o&&F.set([]),r.$$.dirty&32&&t(3,l=n.reduce((v,f)=>v+=f.rank,0))},[a,s,i,l,o,n,d]}class bt extends ue{constructor(e){super(),de(this,e,vt,_t,pe,{ccType:0,language:1,mapConfig:4})}}function wt(r){var l,n;let e,t;return e=new ht({props:{contracts:(n=(l=r[0])==null?void 0:l.contracts)==null?void 0:n.list,language:r[1]}}),{c(){ee(e.$$.fragment)},l(a){te(e.$$.fragment,a)},m(a,s){le(e,a,s),t=!0},p(a,s){var i,h;const o={};s&1&&(o.contracts=(h=(i=a[0])==null?void 0:i.contracts)==null?void 0:h.list),s&2&&(o.language=a[1]),e.$set(o)},i(a){t||(A(e.$$.fragment,a),t=!0)},o(a){H(e.$$.fragment,a),t=!1},d(a){re(e,a)}}}function kt(r){var l,n;let e,t;return e=new dt({props:{contracts:(n=(l=r[0])==null?void 0:l.contracts)==null?void 0:n.list,language:r[1]}}),{c(){ee(e.$$.fragment)},l(a){te(e.$$.fragment,a)},m(a,s){le(e,a,s),t=!0},p(a,s){var i,h;const o={};s&1&&(o.contracts=(h=(i=a[0])==null?void 0:i.contracts)==null?void 0:h.list),s&2&&(o.language=a[1]),e.$set(o)},i(a){t||(A(e.$$.fragment,a),t=!0)},o(a){H(e.$$.fragment,a),t=!1},d(a){re(e,a)}}}function $t(r){var b;let e,t,l,n,a,s,o,i,h,d,v,f,g,$,w,C,E,D,T,B,R,U,L,G,J,O,k;document.title=e=`\r
		`+r[2]+" / "+K[r[1]].title_post+`\r
	`,v=new Ke({props:{language:r[1]}}),w=new Qe({props:{mapConfig:r[0].mapConfig,language:r[1],stageName:r[2]}});const ie=[kt,wt],V=[];function M(u,p){var j;return((j=u[0])==null?void 0:j.contracts.type)==="perma"?0:1}return E=M(r),D=V[E]=ie[E](r),B=new bt({props:{ccType:(b=r[0])==null?void 0:b.contracts.type,language:r[1],mapConfig:r[0].mapConfig}}),L=new Fe({props:{enemies:r[3],language:r[1],statMods:Ge,specialMods:rt}}),O=new tt({props:{language:r[1]}}),{c(){t=y("meta"),n=y("meta"),s=y("meta"),i=y("meta"),d=z(),ee(v.$$.fragment),f=z(),g=y("main"),$=y("div"),ee(w.$$.fragment),C=z(),D.c(),T=z(),ee(B.$$.fragment),R=z(),U=y("div"),ee(L.$$.fragment),G=z(),J=y("div"),ee(O.$$.fragment),this.h()},l(u){const p=Ze("svelte-72l6zm",document.head);t=x(p,"META",{name:!0,content:!0}),n=x(p,"META",{property:!0,content:!0}),s=x(p,"META",{property:!0,content:!0}),i=x(p,"META",{property:!0,content:!0}),p.forEach(m),d=N(u),te(v.$$.fragment,u),f=N(u),g=x(u,"MAIN",{class:!0});var j=I(g);$=x(j,"DIV",{class:!0});var q=I($);te(w.$$.fragment,q),C=N(q),D.l(q),T=N(q),te(B.$$.fragment,q),R=N(q),U=x(q,"DIV",{class:!0});var Z=I(U);te(L.$$.fragment,Z),Z.forEach(m),G=N(q),J=x(q,"DIV",{class:!0});var X=I(J);te(O.$$.fragment,X),X.forEach(m),q.forEach(m),j.forEach(m),this.h()},h(){c(t,"name","description"),c(t,"content",l=K[r[1]].title_post),c(n,"property","og:description"),c(n,"content",a=K[r[1]].title_post),c(s,"property","og:title"),c(s,"content",o=r[0].mapConfig.code+"_"+r[2]),c(i,"property","og:url"),c(i,"content",h=`https://tomimi.dev/${r[1]}/stages/${r[2]}`),c(U,"class","mt-12"),c(J,"class","max-w-4xl mx-auto mt-24"),c($,"class","w-screen sm:w-full max-w-7xl mx-auto"),c(g,"class","bg-neutral-800 text-near-white pb-32 pt-8 sm:pt-16 md:pb-28 min-h-screen")},m(u,p){_(document.head,t),_(document.head,n),_(document.head,s),_(document.head,i),P(u,d,p),le(v,u,p),P(u,f,p),P(u,g,p),_(g,$),le(w,$,null),_($,C),V[E].m($,null),_($,T),le(B,$,null),_($,R),_($,U),le(L,U,null),_($,G),_($,J),le(O,J,null),k=!0},p(u,[p]){var Q;(!k||p&6)&&e!==(e=`\r
		`+u[2]+" / "+K[u[1]].title_post+`\r
	`)&&(document.title=e),(!k||p&2&&l!==(l=K[u[1]].title_post))&&c(t,"content",l),(!k||p&2&&a!==(a=K[u[1]].title_post))&&c(n,"content",a),(!k||p&5&&o!==(o=u[0].mapConfig.code+"_"+u[2]))&&c(s,"content",o),(!k||p&6&&h!==(h=`https://tomimi.dev/${u[1]}/stages/${u[2]}`))&&c(i,"content",h);const j={};p&2&&(j.language=u[1]),v.$set(j);const q={};p&1&&(q.mapConfig=u[0].mapConfig),p&2&&(q.language=u[1]),p&4&&(q.stageName=u[2]),w.$set(q);let Z=E;E=M(u),E===Z?V[E].p(u,p):(ge(),H(V[Z],1,1,()=>{V[Z]=null}),he(),D=V[E],D?D.p(u,p):(D=V[E]=ie[E](u),D.c()),A(D,1),D.m($,T));const X={};p&1&&(X.ccType=(Q=u[0])==null?void 0:Q.contracts.type),p&2&&(X.language=u[1]),p&1&&(X.mapConfig=u[0].mapConfig),B.$set(X);const se={};p&8&&(se.enemies=u[3]),p&2&&(se.language=u[1]),L.$set(se);const ne={};p&2&&(ne.language=u[1]),O.$set(ne)},i(u){k||(A(v.$$.fragment,u),A(w.$$.fragment,u),A(D),A(B.$$.fragment,u),A(L.$$.fragment,u),A(O.$$.fragment,u),k=!0)},o(u){H(v.$$.fragment,u),H(w.$$.fragment,u),H(D),H(B.$$.fragment,u),H(L.$$.fragment,u),H(O.$$.fragment,u),k=!1},d(u){m(t),m(n),m(s),m(i),u&&m(d),re(v,u),u&&m(f),u&&m(g),re(w),V[E].d(),re(B),re(L),re(O)}}}function yt(r,e,t){let l,n,a,s;_e(r,Ge,i=>t(4,s=i));let{data:o}=e;return r.$$set=i=>{"data"in i&&t(0,o=i.data)},r.$$.update=()=>{r.$$.dirty&1&&t(1,l=o.language),r.$$.dirty&17&&t(3,n=We(o.enemies,s)),r.$$.dirty&3&&t(2,a=o.mapConfig[`name_${l}`]||o.mapConfig.name_zh)},[o,l,a,n,s]}class Tt extends ue{constructor(e){super(),de(this,e,yt,$t,pe,{data:0})}}export{Tt as component,Vt as universal};
